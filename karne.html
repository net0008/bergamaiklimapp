<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Bergama Ã‡ocuk Ä°klim Karnesi</title>
    <style>
        :root { --primary: #2980b9; --success: #27ae60; --warning: #f39c12; --danger: #e74c3c; }
        body { font-family: 'Segoe UI', sans-serif; background: #f0f4f8; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: auto; background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .nav-bar { margin-bottom: 20px; }
        .nav-btn { padding: 10px 20px; background: var(--primary); color: white; text-decoration: none; border-radius: 50px; font-weight: bold; }
        
        .question-box { text-align: left; margin-bottom: 25px; padding: 15px; background: #f8fafc; border-radius: 15px; border-left: 5px solid var(--primary); }
        .question-box label { display: block; font-weight: bold; margin-bottom: 10px; font-size: 1.1em; color: #2c3e50; }
        select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-size: 1em; background: white; }
        
        .result-area { margin-top: 30px; padding: 25px; border-radius: 20px; background: #fff; border: 3px dashed #eee; }
        #score { font-size: 3.5em; font-weight: bold; color: var(--success); margin: 10px 0; }
        .save-btn { width: 100%; padding: 18px; background: var(--success); color: white; border: none; border-radius: 15px; font-size: 1.2em; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .save-btn:hover { transform: scale(1.02); filter: brightness(1.1); }
    </style>
</head>
<body>

<div class="nav-bar"><a href="index.html" class="nav-btn">ğŸ  Anasayfa</a></div>

<div class="container">
    <h1 style="color: var(--primary);">ğŸ•µï¸â€â™‚ï¸ Ä°klim Dedektifi Ol!</h1>
    <p>GÃ¼nlÃ¼k tercihlerini seÃ§, doÄŸaya etkini hemen Ã¶ÄŸren.</p>

    <div class="question-box">
        <label>ğŸ« Okula nasÄ±l gidiyorsun?</label>
        <select id="q1" onchange="hesapla()">
            <option value="0">YÃ¼rÃ¼yerek veya Bisikletle (En Temiz!)</option>
            <option value="500">Okul Servisi veya OtobÃ¼sle</option>
            <option value="1500">Ailemin Ã–zel ArabasÄ±yla</option>
        </select>
    </div>

    <div class="question-box">
        <label>ğŸ¥© Ne sÄ±klÄ±kla et yiyorsun?</label>
        <select id="q2" onchange="hesapla()">
            <option value="800">Nadiren (Daha Ã§ok sebze/meyve)</option>
            <option value="1500">Haftada birkaÃ§ gÃ¼n</option>
            <option value="2500">Neredeyse her gÃ¼n (Et Ã§ok severim!)</option>
        </select>
    </div>

    <div class="question-box">
        <label>ğŸ’¡ Odadan Ã§Ä±karken Ä±ÅŸÄ±klarÄ± kapatÄ±r mÄ±sÄ±n?</label>
        <select id="q3" onchange="hesapla()">
            <option value="-200">Her zaman kapatÄ±rÄ±m</option>
            <option value="0">Bazen unutuyorum</option>
            <option value="200">Genelde aÃ§Ä±k bÄ±rakÄ±yorum</option>
        </select>
    </div>

    <div class="question-box">
        <label>ğŸš¿ DiÅŸlerini fÄ±rÃ§alarken musluÄŸu kapatÄ±yor musun?</label>
        <select id="q4" onchange="hesapla()">
            <option value="-150">Evet, hiÃ§ boÅŸa akÄ±tmam</option>
            <option value="100">HayÄ±r, hep aÃ§Ä±k kalÄ±r</option>
        </select>
    </div>

    <div class="result-area">
        <h3>Senin YÄ±llÄ±k Karbon YÃ¼kÃ¼n:</h3>
        <div id="score">0</div>
        <p>kg CO2 / YÄ±l</p>
        <p id="feedback" style="font-weight: bold;"></p>
    </div>

    <button class="save-btn" onclick="veriyiGonder()">ğŸ“Š ÅENLÄ°K LÄ°STESÄ°NE EKLE</button>
    <p id="status" style="margin-top:15px; font-weight:bold;"></p>
</div>

<script>
    
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxX9n8s1m2l3v5t6u7w8y9z0a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6/exec";

    function hesapla() {
        const q1 = parseInt(document.getElementById('q1').value);
        const q2 = parseInt(document.getElementById('q2').value);
        const q3 = parseInt(document.getElementById('q3').value);
        const q4 = parseInt(document.getElementById('q4').value);
        
        // Temel YaÅŸam PayÄ± (Sabit 1000kg) + SeÃ§imler
        let total = 1000 + q1 + q2 + q3 + q4;
        
        const scoreDiv = document.getElementById('score');
        const feedback = document.getElementById('feedback');
        
        scoreDiv.innerText = total;

        if(total < 2500) {
            scoreDiv.style.color = "var(--success)";
            feedback.innerText = "ğŸŒŸ Harika bir doÄŸa dostusun!";
        } else if(total < 4000) {
            scoreDiv.style.color = "var(--warning)";
            feedback.innerText = "ğŸ™‚ Ä°yi gidiyorsun ama biraz daha dikkat edebilirsin.";
        } else {
            scoreDiv.style.color = "var(--danger)";
            feedback.innerText = "âš ï¸ DoÄŸaya biraz fazla yÃ¼k oluyorsun, alÄ±ÅŸkanlÄ±klarÄ±nÄ± gÃ¶zden geÃ§irmelisin.";
        }
        return total;
    }

    async function veriyiGonder() {
        const deger = hesapla();
        const status = document.getElementById('status');
        
        if (SCRIPT_URL.includes("YAPISTIR")) {
            alert("Ãœstad, Ã¶nce Google Script URL'ni yapÄ±ÅŸtÄ±rmalÄ±sÄ±n!");
            return;
        }

        status.innerText = "â³ Åenlik listesine kaydediliyor...";
        
        try {
            await fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify({deger: deger})
            });
            status.innerText = "âœ… BaÅŸarÄ±yla eklendi! Åenlik toplamÄ±na katkÄ±da bulundun.";
            status.style.color = "var(--success)";
        } catch (e) {
            status.innerText = "âŒ Bir hata oldu, interneti kontrol et.";
            status.style.color = "var(--danger)";
        }
    }

    window.onload = hesapla;
</script>
</body>
</html>


