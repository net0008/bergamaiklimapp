<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Pergamonâ€™un Ä°zinde, Yapay ZekÃ¢ ile Bergama 2050: Ä°klim Zaman TÃ¼neli</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --temp: #FF0000; --rain: #3498db; --btn: #2980b9; --dark: #2c3e50; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8fafc; padding: 20px; text-align: center; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .nav-bar { display: flex; justify-content: center; gap: 15px; margin: 20px 0; border-bottom: 2px solid #eee; padding-bottom: 20px; }
        .nav-btn { padding: 10px 20px; border-radius: 50px; background: var(--btn); color: white; text-decoration: none; font-weight: bold; }
        .accordion { margin-bottom: 10px; border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; text-align: left; }
        .accordion-header { padding: 18px; cursor: pointer; font-weight: bold; background: #fff; display: flex; justify-content: space-between; }
        .accordion-content { max-height: 0; overflow: hidden; transition: 0.4s; }
        .accordion.active .accordion-content { max-height: 2000px; padding: 20px; border-top: 1px solid #eee; }
        .chart-box { height: 320px; width: 100%; margin-bottom: 20px; }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ›ï¸Pergamonâ€™un Ä°zinde, Yapay ZekÃ¢ ile Bergama 2050: Ä°klim Zaman TÃ¼neli</h1>
    <div class="nav-bar">
    <a href="index.html" class="nav-btn">ğŸ  Anasayfa</a>
    <a href="simulator.html" class="nav-btn">ğŸ® SimÃ¼lasyon</a>
    <a href="karne.html" class="nav-btn">ğŸ“‹ Ä°klim Karnesi</a>
    <a href="nasil-yaptik.html" class="nav-btn" style="background: #8e44ad;">ğŸ› ï¸ NasÄ±l YaptÄ±k?</a>
</div>

    <div class="accordion active">
        <div class="accordion-header" onclick="this.parentElement.classList.toggle('active')">ğŸ“Š 1. BÃ¶lÃ¼m: Bergama GeÃ§miÅŸ Verileri (1980-2025)</div>
        <div class="accordion-content">
            <div class="chart-box"><canvas id="bTempHist"></canvas></div>
            <div class="chart-box"><canvas id="bRainHist"></canvas></div>
        </div>
    </div>

    <div class="accordion">
        <div class="accordion-header" onclick="this.parentElement.classList.toggle('active')">ğŸ‡¹ğŸ‡· 2. BÃ¶lÃ¼m: TÃ¼rkiye Geneli Analiz (1980-2025)</div>
        <div class="accordion-content">
            <div class="chart-box"><canvas id="trTempHist"></canvas></div>
            <div class="chart-box"><canvas id="trRainHist"></canvas></div>
        </div>
    </div>

    <div class="accordion">
        <div class="accordion-header" onclick="this.parentElement.classList.toggle('active')">ğŸ”® 3. BÃ¶lÃ¼m: Bergama Gelecek Projeksiyonu (2025-2050)</div>
        <div class="accordion-content">
            <div class="chart-box"><canvas id="bTempProj"></canvas></div>
            <div class="chart-box"><canvas id="bRainProj"></canvas></div>
        </div>
    </div>

    <div class="accordion">
        <div class="accordion-header" onclick="this.parentElement.classList.toggle('active')">ğŸ“ˆ 4. BÃ¶lÃ¼m: TÃ¼rkiye Gelecek Vizyonu (2025-2050)</div>
        <div class="accordion-content">
            <div class="chart-box"><canvas id="trTempProj"></canvas></div>
            <div class="chart-box"><canvas id="trRainProj"></canvas></div>
        </div>
    </div>
</div>

<script>
    async function init() {
        const res = await fetch('data/bergama_iklim.json');
        const d = await res.json();

        const make = (id, label, x, y, type, color) => {
            new Chart(document.getElementById(id), {
                type: type,
                data: { labels: x, datasets: [{ label: label, data: y, borderColor: color, backgroundColor: color+'33', fill: type==='line', borderWidth: 4 }] },
                options: { responsive: true, maintainAspectRatio: false }
            });
        };

        // Bergama GeÃ§miÅŸ
        make('bTempHist', 'SÄ±caklÄ±k (Â°C)', d.bergama_gecmis.map(v=>v.Yil), d.bergama_gecmis.map(v=>v.Sicaklik), 'line', '#FF0000');
        make('bRainHist', 'YaÄŸÄ±ÅŸ (mm)', d.bergama_gecmis.map(v=>v.Yil), d.bergama_gecmis.map(v=>v.Yagis), 'bar', '#3498db');

        // TÃ¼rkiye GeÃ§miÅŸ
        make('trTempHist', 'TÃ¼rkiye SÄ±caklÄ±k (Â°C)', d.turkiye_gecmis.map(v=>v.Yil), d.turkiye_gecmis.map(v=>v.Sicaklik), 'line', '#FF0000');
        make('trRainHist', 'TÃ¼rkiye YaÄŸÄ±ÅŸ (mm)', d.turkiye_gecmis.map(v=>v.Yil), d.turkiye_gecmis.map(v=>v.Yagis), 'bar', '#3498db');

        // Bergama Gelecek
        make('bTempProj', '2050 Tahmini (Â°C)', d.projeksiyonlar.bergama.map(v=>v.Yil), d.projeksiyonlar.bergama.map(v=>v.Sicaklik), 'line', '#FF0000');
        make('bRainProj', '2050 YaÄŸÄ±ÅŸ (mm)', d.projeksiyonlar.bergama.map(v=>v.Yil), d.projeksiyonlar.bergama.map(v=>v.Yagis), 'bar', '#3498db');

        // TÃ¼rkiye Gelecek
        make('trTempProj', '2050 Ulusal Tahmin (Â°C)', d.projeksiyonlar.turkiye.map(v=>v.Yil), d.projeksiyonlar.turkiye.map(v=>v.Sicaklik), 'line', '#FF0000');
        make('trRainProj', '2050 Ulusal YaÄŸÄ±ÅŸ (mm)', d.projeksiyonlar.turkiye.map(v=>v.Yil), d.projeksiyonlar.turkiye.map(v=>v.Yagis), 'bar', '#3498db');
    }
    init();
</script>
</body>
</html>